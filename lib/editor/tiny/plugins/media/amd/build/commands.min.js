define("tiny_media/commands",["exports","core/str","./common","./image"],(function(_exports,_str,_common,_image){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getSetup=void 0;_exports.getSetup=async()=>{const[imageButtonText]=await Promise.all([(0,_str.get_string)("imagebuttontitle",_common.component)]);return editor=>{const mediaImage=new _image.MediaImage(editor);editor.ui.registry.addToggleButton(_common.imageButtonName,{icon:"image",text:imageButtonText,tooltip:imageButtonText,onAction:()=>{mediaImage.displayDialogue()},onSetup:api=>editor.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",api.setActive).unbind}),editor.ui.registry.addMenuItem(_common.imageButtonName,{icon:"image",text:imageButtonText,onAction:()=>{mediaImage.displayDialogue()}}),editor.ui.registry.addContextToolbar(_common.imageButtonName,{predicate:node=>"img"===node.nodeName.toLowerCase(),items:_common.imageButtonName,position:"node",scope:"node"})}}}));

//# sourceMappingURL=commands.min.js.map