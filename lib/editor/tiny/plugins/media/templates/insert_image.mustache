{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template tiny_media/insert_image

    Insert image template.

    Example context (json):
    {

    }
}}
<form class="tiny_image_form">
    <div style="display:none" role="alert" class="alert alert-warning mb-1 {{CSS.IMAGEURLWARNING}}">
        <label for="{{elementid}}_{{CSS.INPUTURL}}">
            {{#str}} imageurlrequired, tiny_media {{/str}}
        </label>
    </div>
    {{#showfilepicker}}
    <div class="mb-1">
        <label for="{{elementid}}_{{CSS.INPUTURL}}">{{#str}} enterurl, tiny_media {{/str}}</label>
        <div class="input-group input-append w-100">
            <input name="{{FORMNAMES.URL}}" class="form-control {{CSS.INPUTURL}}" type="url" id="{{elementid}}_{{CSS.INPUTURL}}" size="32"/>
            <span class="input-group-append">
                <button class="btn btn-secondary {{CSS.IMAGEBROWSER}}" type="button">
                    {{#str}} browserepositories, tiny_media {{/str}}
                </button>
            </span>
        </div>
    </div>
    {{/showfilepicker}}
    {{^showfilepicker}}
    <div class="mb-1">
        <label for="{{elementid}}_{{CSS.INPUTURL}}">{{#str}} enterurl, tiny_media {{/str}}</label>
        <input name="{{FORMNAMES.URL}}" class="form-control fullwidth {{CSS.INPUTURL}}" type="url" id="{{elementid}}_{{CSS.INPUTURL}}" size="32"/>
    </div>
    {{/showfilepicker}}
    <div style="display:none" role="alert" class="alert alert-warning mb-1 {{CSS.IMAGEALTWARNING}}">
        <label for="{{elementid}}_{{CSS.INPUTALT}}">
            {{#str}} presentationoraltrequired, tiny_media {{/str}}
        </label>
    </div>
    <div class="mb-1">
        <label for="{{elementid}}_{{CSS.INPUTALT}}">{{#str}} enteralt, tiny_media {{/str}}</label>
        <textarea class="form-control fullwidth {{CSS.INPUTALT}}" id="{{elementid}}_{{CSS.INPUTALT}}" name="{{FORMNAMES.ALT}}" maxlength="125"></textarea>

        <div id="the-count" class="d-flex justify-content-end small">
            <span id="currentcount">0</span>
            <span id="maximumcount"> / 125</span>
        </div>

        <div class="form-check">
            <input type="checkbox" class="form-check-input {{CSS.IMAGEPRESENTATION}}" id="{{elementid}}_{{CSS.IMAGEPRESENTATION}}"/>
            <label class="form-check-label" for="{{elementid}}_{{CSS.IMAGEPRESENTATION}}">{{#str}} presentation, tiny_media {{/str}}</label>
        </div>
    </div>
    <div class="mb-1">
        <label class="" for="{{elementid}}_{{CSS.INPUTSIZE}}">{{#str}} size, tiny_media {{/str}}</label>
        <div id="{{elementid}}_{{CSS.INPUTSIZE}}" class="form-inline {{CSS.INPUTSIZE}}">
            <label class="accesshide" for="{{elementid}}_{{CSS.INPUTWIDTH}}">{{#str}} width, tiny_media {{/str}}</label>
            <input type="text" class="form-control mr-1 input-mini {{CSS.INPUTWIDTH}}" id="{{elementid}}_{{CSS.INPUTWIDTH}}" size="4"/>
             x
            <label class="accesshide" for="{{elementid}}_{{CSS.INPUTHEIGHT}}">{{#str}} height, tiny_media {{/str}}</label>
            <input type="text" class="form-control ml-1 input-mini {{CSS.INPUTHEIGHT}}" id="{{elementid}}_{{CSS.INPUTHEIGHT}}" size="4"/>

            <div class="form-check ml-2">
                <input type="checkbox" class="form-check-input {{CSS.INPUTCONSTRAIN}}" id="{{elementid}}_{{CSS.INPUTCONSTRAIN}}"/>
                <label class="form-check-label" for="{{elementid}}_{{CSS.INPUTCONSTRAIN}}">{{#str}} constrain, tiny_media {{/str}}</label>
            </div>
        </div>
    </div>
    <div class="form-inline mb-1">
        <label for="{{elementid}}_{{CSS.INPUTALIGNMENT}}">{{#str}} alignment, tiny_media {{/str}}</label>
        <select class="custom-select {{CSS.INPUTALIGNMENT}}" id="{{elementid}}_{{CSS.INPUTALIGNMENT}}">
            <option value="text-top">{{#str}} alignment_top, tiny_media {{/str}}</option>
            <option value="middle">{{#str}} alignment_middle, tiny_media {{/str}}</option>
            <option value="text-bottom">{{#str}} alignment_bottom, tiny_media {{/str}}</option>
            <option value="left" selected>{{#str}} alignment_left, tiny_media {{/str}}</option>
            <option value="right">{{#str}} alignment_right, tiny_media {{/str}}</option>
        </select>
    </div>
    <input type="hidden" class="{{CSS.INPUTCUSTOMSTYLE}}"/>
    <br/>
    <div class="mdl-align">
        <div class="{{CSS.IMAGEPREVIEWBOX}}">
            <img class="img-fluid {{CSS.IMAGEPREVIEW}}" alt="" style="display: none;"/>
        </div>
        <button class="btn btn-secondary {{CSS.INPUTSUBMIT}}" type="submit">{{#str}} saveimage, tiny_media {{/str}}</button>
    </div>
</form>
